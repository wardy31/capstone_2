{"ast":null,"code":"import { FaceDetection } from '../classes/FaceDetection';\nimport { FaceLandmarks } from '../classes/FaceLandmarks';\nimport { isWithFaceDetection } from './WithFaceDetection';\nexport function isWithFaceLandmarks(obj) {\n  return isWithFaceDetection(obj) && obj['landmarks'] instanceof FaceLandmarks && obj['unshiftedLandmarks'] instanceof FaceLandmarks && obj['alignedRect'] instanceof FaceDetection;\n}\nexport function extendWithFaceLandmarks(sourceObj, unshiftedLandmarks) {\n  var shift = sourceObj.detection.box;\n  var landmarks = unshiftedLandmarks.shiftBy(shift.x, shift.y);\n  var rect = landmarks.align();\n  var imageDims = sourceObj.detection.imageDims;\n  var alignedRect = new FaceDetection(sourceObj.detection.score, rect.rescale(imageDims.reverse()), imageDims);\n  var extension = {\n    landmarks: landmarks,\n    unshiftedLandmarks: unshiftedLandmarks,\n    alignedRect: alignedRect\n  };\n  return Object.assign({}, sourceObj, extension);\n}","map":{"version":3,"mappings":"AAAA,SAASA,aAAa,QAAQ,0BAA0B;AACxD,SAASC,aAAa,QAAQ,0BAA0B;AAExD,SAASC,mBAAmB,QAA2B,qBAAqB;AAW5E,OAAM,SAAUC,mBAAmB,CAACC,GAAQ;EAC1C,OAAOF,mBAAmB,CAACE,GAAG,CAAC,IAC1BA,GAAG,CAAC,WAAW,CAAC,YAAYH,aAAa,IACzCG,GAAG,CAAC,oBAAoB,CAAC,YAAYH,aAAa,IAClDG,GAAG,CAAC,aAAa,CAAC,YAAYJ,aAAa;AAClD;AAEA,OAAM,SAAUK,uBAAuB,CAIrCC,SAAkB,EAClBC,kBAAkC;EAG1B,mCAAU;EAClB,IAAMC,SAAS,GAAGD,kBAAkB,CAACE,OAAO,CAAiBC,KAAK,CAACC,CAAC,EAAED,KAAK,CAACE,CAAC,CAAC;EAE9E,IAAMC,IAAI,GAAGL,SAAS,CAACM,KAAK,EAAE;EACtB,6CAAS;EACjB,IAAMC,WAAW,GAAG,IAAIf,aAAa,CAACM,SAAS,CAACU,SAAS,CAACC,KAAK,EAAEJ,IAAI,CAACK,OAAO,CAACC,SAAS,CAACC,OAAO,EAAE,CAAC,EAAED,SAAS,CAAC;EAE9G,IAAME,SAAS,GAAG;IAChBb,SAAS;IACTD,kBAAkB;IAClBQ,WAAW;GACZ;EAED,OAAOO,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEjB,SAAS,EAAEe,SAAS,CAAC;AAChD","names":["FaceDetection","FaceLandmarks","isWithFaceDetection","isWithFaceLandmarks","obj","extendWithFaceLandmarks","sourceObj","unshiftedLandmarks","landmarks","shiftBy","shift","x","y","rect","align","alignedRect","detection","score","rescale","imageDims","reverse","extension","Object","assign"],"sourceRoot":"","sources":["../../../src/factories/WithFaceLandmarks.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module","externalDependencies":[]}