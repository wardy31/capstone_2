{"ast":null,"code":"import { mapState } from 'vuex';\nimport Dialog from './EditProfileDialog.vue';\nexport default {\n  components: {\n    Dialog\n  },\n  computed: {\n    ...mapState({\n      user: state => state.user.credentials.data,\n      error: state => state.user.password.error,\n      success: state => state.user.password.success,\n      loading: state => state.user.password.loading,\n      message: state => state.user.password.message,\n      editMessage: state => state.user.updateProfile.message,\n      editError: state => state.user.updateProfile.error,\n      editSuccess: state => state.user.updateProfile.success\n    })\n  },\n  data() {\n    return {\n      setPassword: {\n        password: \"\",\n        password_confirmation: \"\",\n        current_password: \"\"\n      },\n      BaseImage: process.env.VUE_APP_IMAGE_URL\n    };\n  },\n  methods: {\n    openDialog() {\n      this.$store.state.user.updateProfile.dialog = true;\n    },\n    changePassword() {\n      this.$store.dispatch('user/changePassword', this.setPassword);\n    }\n  }\n};","map":{"version":3,"mappings":"AA0GA;AACA;AACA;EACAA;IAAAC;EAAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACAC;QACAC;QACAC;QACAC;MACA;MACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;AACA","names":["components","Dialog","computed","user","error","success","loading","message","editMessage","editError","editSuccess","data","setPassword","password","password_confirmation","current_password","BaseImage","methods","openDialog","changePassword"],"sourceRoot":"src/views/user/pages/profile","sources":["EditProfile.vue"],"sourcesContent":["<template>\n    <v-app>\n        <v-main class=\"accent\">\n            <Dialog :user=\"user\" />\n            <v-container class=\"ml-md-10\">\n                <div class=\"mt-4 mt-lg-12\">\n                    <h2 class=\"font-weight-bold\">Personal Profile</h2>\n                </div>\n                <div class=\"my-8 d-flex\" :class=\"{ 'justify-center': $vuetify.breakpoint.mobile }\">\n                    <v-avatar color=\"primary\" size=\"160\" class=\"white--text elevation-2\" tile>\n                        <img :src=\"`${BaseImage}${user.images_path}`\" alt=\"\" srcset=\"\">\n                    </v-avatar>\n                </div>\n\n\n                <v-divider></v-divider>\n                <div class=\"mb-2 mt-5\">\n                    <v-alert type=\"error\" dense text :value=\"editError\" width=\"320\">\n                        {{ editMessage }}\n                    </v-alert>\n                    <v-alert type=\"success\" dense text :value=\"editSuccess\" width=\"320\">\n                        {{ editMessage }}\n                    </v-alert>\n                    <div>\n                        <h3 class=\"gray--text mb-2\">Personal Information</h3>\n                        <v-btn color=\"primary\" small class=\"mb-5 text-capitalize py-3\" @click=\"openDialog\"><v-icon\n                                left>edit</v-icon> Edit\n                            Profile</v-btn>\n                    </div>\n                </div>\n\n                <div class=\"d-lg-flex mb-2\">\n                    <h4>Name:</h4>\n                    <h4 class=\"ml-lg-2 font-weight-bold primary--text text-capitalize\">{{ `${user.first_name}\n                                            ${user.middle_name} ${user.last_name}` }}</h4>\n                </div>\n\n                <div class=\"d-lg-flex  mb-3\">\n                    <h4>Gender:</h4>\n                    <h4 class=\"ml-lg-2 font-weight-bold primary--text text-capitalize\">{{ user.gender }}</h4>\n                </div>\n\n                <div class=\"d-lg-flex mb-3\">\n                    <h4>Address:</h4>\n                    <h4 class=\"ml-lg-2 font-weight-bold primary--text text-capitalize\">{{ user.address }}</h4>\n                </div>\n\n                <div class=\"d-lg-flex mb-3\">\n                    <h4>Department:</h4>\n                    <h4 class=\"ml-lg-2 font-weight-bold primary--text text-capitalize\">{{ user.department }}</h4>\n                </div>\n\n                <div class=\"d-lg-flex mb-3\">\n                    <h4>Contact Number:</h4>\n                    <h4 class=\"ml-lg-2 font-weight-bold primary--text\">{{ user.contact_number }}</h4>\n                </div>\n\n                <div class=\"d-lg-flex mb-3\">\n                    <h4>Email:</h4>\n                    <h4 class=\"ml-lg-2 font-weight-bold primary--text\">{{ user.email }}</h4>\n                </div>\n\n                <div class=\"d-lg-flex mb-3\">\n                    <h4>Role:</h4>\n                    <h4 class=\"ml-lg-2 font-weight-bold primary--text text-capitalize\">{{ user.classification.name }}</h4>\n                </div>\n                <div class=\"d-flex mb-3\">\n                    <h4>Vaccination Status:</h4>\n                    <h4 class=\"ml-2 font-weight-bold primary--text text-capitalize\">{{ user.vaccination_status }}</h4>\n                </div>\n\n                <v-divider class=\"mt-8\"></v-divider>\n                <div class=\"mb-6 mt-6\">\n                    <h3 class=\"gray--text mb-2\">Change Security Password</h3>\n                </div>\n\n                <div>\n                    <v-card color=\"transparent\" flat width=\"320\">\n                        <v-alert :value=\"error\" dense text type=\"error\">\n                            {{ message }}\n                        </v-alert>\n                        <v-alert :value=\"success\" dense text type=\"success\">\n                            {{ message }}\n                        </v-alert>\n                        <v-text-field outlined label=\"Current Password\" type=\"password\" dense filled\n                            v-model=\"setPassword.current_password\"></v-text-field>\n                        <v-text-field outlined label=\"New Password\" type=\"password\" dense filled class=\"mt-n3\"\n                            v-model=\"setPassword.password\"></v-text-field>\n                        <v-text-field outlined label=\"Confirm New Password\" type=\"password\" dense filled class=\"mt-n3\"\n                            v-model=\"setPassword.password_confirmation\"></v-text-field>\n\n                        <div class=\"mt-n2\">\n                            <v-btn class=\"primary text-capitalize px-8 py-4\" @click=\"changePassword\" :loading=\"loading\">\n                                <h5>Update</h5>\n                            </v-btn>\n                        </div>\n                    </v-card>\n                </div>\n\n                <v-divider class=\"mt-8\"></v-divider>\n            </v-container>\n        </v-main>\n    </v-app>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport Dialog from './EditProfileDialog.vue'\nexport default {\n    components: { Dialog },\n    computed: {\n        ...mapState({\n            user: state => state.user.credentials.data,\n            error: state => state.user.password.error,\n            success: state => state.user.password.success,\n            loading: state => state.user.password.loading,\n            message: state => state.user.password.message,\n            editMessage: state => state.user.updateProfile.message,\n            editError: state => state.user.updateProfile.error,\n            editSuccess: state => state.user.updateProfile.success\n        })\n    },\n    data() {\n        return {\n            setPassword: {\n                password: \"\",\n                password_confirmation: \"\",\n                current_password: \"\"\n            },\n            BaseImage: process.env.VUE_APP_IMAGE_URL\n        }\n    },\n    methods: {\n        openDialog() {\n            this.$store.state.user.updateProfile.dialog = true\n        },\n        changePassword() {\n            this.$store.dispatch('user/changePassword', this.setPassword)\n        }\n    }\n}\n</script>\n\n<style scoped>\n.bg {\n    background-color: #f8f0f0;\n}\n\n.adj {\n    width: 280px;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}