{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport moment from \"moment\";\nimport { mapState } from \"vuex\";\nexport default {\n  props: [\"data\", 'dialog'],\n  mounted() {\n    this.$store.dispatch(\"notifications/getNotifications\");\n  },\n  filters: {\n    dateFormat(val) {\n      return moment(val).format(\"MMM. DD, YYYY\").toString();\n    },\n    timeFormat(val) {\n      return moment(val).fromNow().toString();\n    }\n  },\n  computed: {\n    ...mapState({\n      notify: state => state.notifications.data,\n      loading: state => state.notifications.loading,\n      dot: state => state.notifications.dot\n    })\n  },\n  methods: {\n    fiveNotif() {\n      const slice = this.notify.slice(0, 4);\n      console.log(\"wa\", slice);\n      return slice;\n    },\n    async logout() {\n      this.$store.dispatch(\"user/logout\");\n      this.$router.push(\"/clinic-login\");\n    }\n  }\n};","map":{"version":3,"mappings":";AAsEA;AACA;AACA;EACAA;EACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;MACAC;MACA;IACA;IACA;MACA;MACA;IACA;EACA;AACA","names":["props","mounted","filters","dateFormat","timeFormat","computed","notify","loading","dot","methods","fiveNotif","console"],"sourceRoot":"src/components","sources":["ClinicAppBar.vue"],"sourcesContent":["<template>\r\n  <v-app-bar app color=\"accent\">\r\n    <v-app-bar-nav-icon color=\"primary\" @click=\"$emit('handleDialog')\"></v-app-bar-nav-icon>\r\n    <v-app-bar-title>\r\n      <h4 class=\"primary--text mr-4 text-capitalize font-weight-bold\">\r\n        UniTrace.\r\n      </h4>\r\n    </v-app-bar-title>\r\n\r\n    <v-spacer></v-spacer>\r\n    <v-menu :rounded=\"rounded\" offset-y transition=\"slide-y-transition\" max-width=\"280\">\r\n      <template v-slot:activator=\"{ attrs, on }\">\r\n        <v-badge color=\"red\" left dot :value=\"dot\">\r\n          <v-icon class=\"primary--text mr-8\" size=\"26\" v-bind=\"attrs\" v-on=\"on\"\r\n            @click=\"$store.state.notifications.dot = false\">\r\n            notifications\r\n          </v-icon>\r\n        </v-badge>\r\n      </template>\r\n      <v-list>\r\n        <v-list-item three-line v-for=\"notif in fiveNotif()\" :key=\"notif.id\">\r\n          <v-list-item-content>\r\n            <v-list-item-title class=\"font-weight-bold text-capitalize\">\r\n              <h5>{{\r\n                `${notif.user_account.first_name} ${notif.user_account.last_name}`\r\n              }}</h5>\r\n            </v-list-item-title>\r\n            <v-list-item-subtitle class=\"text-capitalize pt-2 pb-2 black--text\">\r\n              <h5 class=\"font-weight-thin\">{{ notif.message }}</h5>\r\n            </v-list-item-subtitle>\r\n            <v-list-item-subtitle>\r\n              <h5 class=\"font-weight-thin\"> {{ notif.created_at | timeFormat }}</h5>\r\n            </v-list-item-subtitle>\r\n          </v-list-item-content>\r\n        </v-list-item>\r\n        <v-divider></v-divider>\r\n        <v-btn block text color=\"primary\" class=\"text-capitalize\" to=\"/admin/notifications\">See all notifications</v-btn>\r\n      </v-list>\r\n    </v-menu>\r\n    <h4 class=\"black--text mr-4 text-capitalize font-weight-regular\">\r\n      Welcome,\r\n      <b class=\"font-weight-bold primary--text\">{{\r\n        `${data.first_name} ${data.last_name}`\r\n      }}</b>\r\n    </h4>\r\n    <v-menu offset-y bottom transition=\"slide-y-transition\" rounded=\"lg\">\r\n      <template v-slot:activator=\"{ on, attrs }\">\r\n        <v-avatar color=\"primary\" class=\"white--text font-weight-bold\" v-bind=\"attrs\" v-on=\"on\" size=\"50\">{{\r\n          data.first_name.slice(0, 1).toUpperCase() }}</v-avatar>\r\n      </template>\r\n      <v-list>\r\n        <v-list-item to=\"/admin/editprofile\">\r\n          <v-list-item-icon class=\"mr-4\"><v-icon color=\"primary\">account_circle</v-icon></v-list-item-icon>\r\n          <v-list-item-title class=\"font-weight-bold\">\r\n            <h5>Edit Profile</h5>\r\n          </v-list-item-title>\r\n        </v-list-item>\r\n        <v-divider></v-divider>\r\n        <v-list-item @click=\"logout\">\r\n          <v-list-item-icon class=\"mr-4\"><v-icon color=\"primary\">logout</v-icon></v-list-item-icon>\r\n          <v-list-item-title class=\"font-weight-bold\">\r\n            <h5>Logout</h5>\r\n          </v-list-item-title>\r\n        </v-list-item>\r\n      </v-list>\r\n    </v-menu>\r\n  </v-app-bar>\r\n</template>\r\n\r\n<script>\r\nimport moment from \"moment\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  props: [\"data\", 'dialog'],\r\n  mounted() {\r\n    this.$store.dispatch(\"notifications/getNotifications\");\r\n  },\r\n  filters: {\r\n    dateFormat(val) {\r\n      return moment(val).format(\"MMM. DD, YYYY\").toString();\r\n    },\r\n    timeFormat(val) {\r\n      return moment(val).fromNow().toString();\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      notify: (state) => state.notifications.data,\r\n      loading: (state) => state.notifications.loading,\r\n      dot: (state) => state.notifications.dot,\r\n    }),\r\n  },\r\n  methods: {\r\n    fiveNotif() {\r\n      const slice = this.notify.slice(0, 4)\r\n      console.log(\"wa\", slice);\r\n      return slice;\r\n    },\r\n    async logout() {\r\n      this.$store.dispatch(\"user/logout\");\r\n      this.$router.push(\"/clinic-login\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}