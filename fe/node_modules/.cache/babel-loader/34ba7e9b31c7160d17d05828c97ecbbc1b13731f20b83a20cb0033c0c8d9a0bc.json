{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport moment from \"moment\";\nimport { mapState } from \"vuex\";\nexport default {\n  props: [\"data\", 'dialog'],\n  mounted() {\n    this.$store.dispatch(\"notifications/getNotifications\");\n  },\n  filters: {\n    dateFormat(val) {\n      return moment(val).format(\"MMM. DD, YYYY\").toString();\n    },\n    timeFormat(val) {\n      return moment(val).fromNow().toString();\n    }\n  },\n  computed: {\n    ...mapState({\n      notify: state => state.notifications.data,\n      loading: state => state.notifications.loading,\n      dot: state => state.notifications.dot\n    })\n  },\n  methods: {\n    fiveNotif() {\n      const slice = this.notify.slice(0, 4);\n      console.log(\"wa\", slice);\n      return slice;\n    },\n    async logout() {\n      this.$store.dispatch(\"user/logout\");\n      this.$router.push(\"/clinic-login\");\n    }\n  }\n};","map":{"version":3,"mappings":";AAsEA;AACA;AACA;EACAA;EACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;MACAC;MACA;IACA;IACA;MACA;MACA;IACA;EACA;AACA","names":["props","mounted","filters","dateFormat","timeFormat","computed","notify","loading","dot","methods","fiveNotif","console"],"sourceRoot":"src/components","sources":["ClinicAppBar.vue"],"sourcesContent":["<template>\n  <v-app-bar app color=\"accent\">\n    <v-app-bar-nav-icon color=\"primary\" @click=\"$emit('handleDialog')\"></v-app-bar-nav-icon>\n    <v-app-bar-title>\n      <h4 class=\"primary--text mr-4 text-capitalize font-weight-bold\">\n        UniTrace.\n      </h4>\n    </v-app-bar-title>\n\n    <v-spacer></v-spacer>\n    <v-menu :rounded=\"rounded\" offset-y transition=\"slide-y-transition\" max-width=\"280\">\n      <template v-slot:activator=\"{ attrs, on }\">\n        <v-badge color=\"red\" left dot :value=\"dot\">\n          <v-icon class=\"primary--text mr-8\" size=\"26\" v-bind=\"attrs\" v-on=\"on\"\n            @click=\"$store.state.notifications.dot = false\">\n            notifications\n          </v-icon>\n        </v-badge>\n      </template>\n      <v-list>\n        <v-list-item three-line v-for=\"notif in fiveNotif()\" :key=\"notif.id\">\n          <v-list-item-content>\n            <v-list-item-title class=\"font-weight-bold text-capitalize\">\n              <h5>{{\n                `${notif.user_account.first_name} ${notif.user_account.last_name}`\n              }}</h5>\n            </v-list-item-title>\n            <v-list-item-subtitle class=\"text-capitalize pt-2 pb-2 black--text\">\n              <h5 class=\"font-weight-thin\">{{ notif.message }}</h5>\n            </v-list-item-subtitle>\n            <v-list-item-subtitle>\n              <h5 class=\"font-weight-thin\"> {{ notif.created_at | timeFormat }}</h5>\n            </v-list-item-subtitle>\n          </v-list-item-content>\n        </v-list-item>\n        <v-divider></v-divider>\n        <v-btn block text color=\"primary\" class=\"text-capitalize\" to=\"/admin/notifications\">See all notifications</v-btn>\n      </v-list>\n    </v-menu>\n    <h4 class=\"black--text mr-4 text-capitalize font-weight-regular\">\n      Welcome,\n      <b class=\"font-weight-bold primary--text\">{{\n        `${data.first_name} ${data.last_name}`\n      }}</b>\n    </h4>\n    <v-menu offset-y bottom transition=\"slide-y-transition\" rounded=\"lg\">\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-avatar color=\"primary\" class=\"white--text font-weight-bold\" v-bind=\"attrs\" v-on=\"on\" size=\"50\">{{\n          data.first_name.slice(0, 1).toUpperCase() }}</v-avatar>\n      </template>\n      <v-list>\n        <v-list-item to=\"/admin/editprofile\">\n          <v-list-item-icon class=\"mr-4\"><v-icon color=\"primary\">account_circle</v-icon></v-list-item-icon>\n          <v-list-item-title class=\"font-weight-bold\">\n            <h5>Edit Profile</h5>\n          </v-list-item-title>\n        </v-list-item>\n        <v-divider></v-divider>\n        <v-list-item @click=\"logout\">\n          <v-list-item-icon class=\"mr-4\"><v-icon color=\"primary\">logout</v-icon></v-list-item-icon>\n          <v-list-item-title class=\"font-weight-bold\">\n            <h5>Logout</h5>\n          </v-list-item-title>\n        </v-list-item>\n      </v-list>\n    </v-menu>\n  </v-app-bar>\n</template>\n\n<script>\nimport moment from \"moment\";\nimport { mapState } from \"vuex\";\nexport default {\n  props: [\"data\", 'dialog'],\n  mounted() {\n    this.$store.dispatch(\"notifications/getNotifications\");\n  },\n  filters: {\n    dateFormat(val) {\n      return moment(val).format(\"MMM. DD, YYYY\").toString();\n    },\n    timeFormat(val) {\n      return moment(val).fromNow().toString();\n    },\n  },\n  computed: {\n    ...mapState({\n      notify: (state) => state.notifications.data,\n      loading: (state) => state.notifications.loading,\n      dot: (state) => state.notifications.dot,\n    }),\n  },\n  methods: {\n    fiveNotif() {\n      const slice = this.notify.slice(0, 4)\n      console.log(\"wa\", slice);\n      return slice;\n    },\n    async logout() {\n      this.$store.dispatch(\"user/logout\");\n      this.$router.push(\"/clinic-login\");\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}