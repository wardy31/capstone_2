{"ast":null,"code":"import axios from \"@/config/axios\";\nimport Swal from \"sweetalert2\";\nexport default {\n  namespaced: true,\n  state: () => ({\n    all: {\n      data: [],\n      loading: false,\n      error: false\n    },\n    responses: {\n      data: [],\n      loading: false,\n      page: 1,\n      total: null,\n      today: null\n    },\n    submit: {\n      loading: false,\n      error: false,\n      message: \"\"\n    },\n    existForm: {\n      data: [],\n      exist: false\n    }\n  }),\n  mutations: {\n    setData(state, payload) {\n      state[payload.type].data = payload.data;\n    },\n    setLoading(state, payload) {\n      state[payload.type].loading = payload.loading;\n    },\n    setPage(state, payload) {\n      state[payload.type].page = payload.page;\n    },\n    setError(state, payload) {\n      state[payload.type].error = payload.error;\n      state[payload.type].message = payload.message;\n    },\n    setTotal(state, payload) {\n      state[payload.type].total = payload.total;\n    },\n    setToday(state, payload) {\n      state[payload.type].today = payload.today;\n    }\n  },\n  actions: {\n    async getQuestions({\n      commit\n    }) {\n      commit(\"setLoading\", {\n        type: \"all\",\n        loading: true\n      });\n      axios.get(\"get-form\", {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      }).then(res => {\n        commit(\"setData\", {\n          type: \"all\",\n          data: res.data.data\n        });\n        commit(\"setLoading\", {\n          type: \"all\",\n          loading: false\n        });\n        console.log(\"forms\", res.data);\n      });\n    },\n    async submitForm({\n      commit,\n      dispatch\n    }, payload) {\n      commit(\"setLoading\", {\n        type: \"submit\",\n        loading: true\n      });\n      axios.post(\"submit-form\", {\n        all: payload\n      }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      }).then(res => {\n        commit(\"setLoading\", {\n          type: \"submit\",\n          loading: false\n        });\n        Swal.fire({\n          title: \"Success\",\n          text: \"Successfully Submitted\",\n          icon: \"success\",\n          confirmButtonText: \"close\",\n          timer: 2000\n        });\n        dispatch(\"getQuestions\");\n        dispatch(\"checkExist\");\n        console.log(res.data);\n      }).catch(err => {\n        commit(\"setLoading\", {\n          type: \"submit\",\n          loading: false\n        });\n        console.log(err.response);\n      });\n    },\n    async checkExist({\n      commit,\n      state\n    }) {\n      axios.get(\"check-user-response\", {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      }).then(res => {\n        commit(\"setData\", {\n          type: \"existForm\",\n          data: res.data.data\n        });\n        // commit('setLoading',{type:'all',loading:false})\n        state.existForm.exist = res.data.exists;\n        console.log(\"exist\", res.data);\n      });\n    },\n    async getSubmitted({\n      commit\n    }, param) {\n      axios.get(`get-response?page=${param}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      }).then(res => {\n        commit(\"setData\", {\n          type: \"responses\",\n          data: res.data.data.data\n        });\n        commit(\"setPage\", {\n          type: \"responses\",\n          page: res.data.data.last_page\n        });\n        commit(\"setTotal\", {\n          type: \"responses\",\n          total: res.data.total\n        });\n        commit(\"setToday\", {\n          type: \"responses\",\n          today: res.data.today\n        });\n        console.log(\"exidast\", res.data);\n      });\n    },\n    async responseSearch({\n      commit,\n      dispatch\n    }, param) {\n      if (!param.trim()) {\n        dispatch('getSubmitted');\n      }\n      axios.get(`clinic/response-search/${param}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      }).then(res => {\n        commit(\"setData\", {\n          type: \"responses\",\n          data: res.data.data\n        });\n        console.log(\"exidast\", res.data);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","Swal","namespaced","state","all","data","loading","error","responses","page","total","today","submit","message","existForm","exist","mutations","setData","payload","type","setLoading","setPage","setError","setTotal","setToday","actions","getQuestions","commit","get","headers","Authorization","localStorage","getItem","then","res","console","log","submitForm","dispatch","post","fire","title","text","icon","confirmButtonText","timer","catch","err","response","checkExist","exists","getSubmitted","param","last_page","responseSearch","trim"],"sources":["/home/wardy/Desktop/capstone/fe/src/store/modules/declaration.js"],"sourcesContent":["import axios from \"@/config/axios\";\nimport Swal from \"sweetalert2\";\nexport default {\n  namespaced: true,\n  state: () => ({\n    all: {\n      data: [],\n      loading: false,\n      error: false,\n    },\n    responses: {\n      data: [],\n      loading: false,\n      page: 1,\n      total: null,\n      today: null,\n    },\n    submit: {\n      loading: false,\n      error: false,\n      message: \"\",\n    },\n    existForm: {\n      data: [],\n      exist: false,\n    },\n  }),\n  mutations: {\n    setData(state, payload) {\n      state[payload.type].data = payload.data;\n    },\n    setLoading(state, payload) {\n      state[payload.type].loading = payload.loading;\n    },\n    setPage(state, payload) {\n      state[payload.type].page = payload.page;\n    },\n    setError(state, payload) {\n      state[payload.type].error = payload.error;\n      state[payload.type].message = payload.message;\n    },\n    setTotal(state, payload) {\n      state[payload.type].total = payload.total;\n    },\n    setToday(state, payload) {\n      state[payload.type].today = payload.today;\n    },\n  },\n  actions: {\n    async getQuestions({ commit }) {\n      commit(\"setLoading\", { type: \"all\", loading: true });\n      axios\n        .get(\"get-form\", {\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n        })\n        .then((res) => {\n          commit(\"setData\", { type: \"all\", data: res.data.data });\n          commit(\"setLoading\", { type: \"all\", loading: false });\n          console.log(\"forms\", res.data);\n        });\n    },\n    async submitForm({ commit, dispatch }, payload) {\n      commit(\"setLoading\", { type: \"submit\", loading: true });\n      axios\n        .post(\n          \"submit-form\",\n          { all: payload },\n          {\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n            },\n          }\n        )\n        .then((res) => {\n          commit(\"setLoading\", { type: \"submit\", loading: false });\n          Swal.fire({\n            title: \"Success\",\n            text: \"Successfully Submitted\",\n            icon: \"success\",\n            confirmButtonText: \"close\",\n            timer: 2000,\n          });\n\n          dispatch(\"getQuestions\");\n          dispatch(\"checkExist\");\n          console.log(res.data);\n        })\n        .catch((err) => {\n          commit(\"setLoading\", { type: \"submit\", loading: false });\n          console.log(err.response);\n        });\n    },\n    async checkExist({ commit, state }) {\n      axios\n        .get(\"check-user-response\", {\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n        })\n        .then((res) => {\n          commit(\"setData\", { type: \"existForm\", data: res.data.data });\n          // commit('setLoading',{type:'all',loading:false})\n          state.existForm.exist = res.data.exists;\n          console.log(\"exist\", res.data);\n        });\n    },\n    async getSubmitted({ commit }, param) {\n      axios\n        .get(`get-response?page=${param}`, {\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n        })\n        .then((res) => {\n          commit(\"setData\", { type: \"responses\", data: res.data.data.data });\n          commit(\"setPage\", {\n            type: \"responses\",\n            page: res.data.data.last_page,\n          });\n          commit(\"setTotal\", { type: \"responses\", total: res.data.total });\n          commit(\"setToday\", { type: \"responses\", today: res.data.today });\n\n          console.log(\"exidast\", res.data);\n        });\n    },\n    async responseSearch({ commit,dispatch }, param) {\n        if(!param.trim()){\n            dispatch('getSubmitted')\n        }\n        axios\n          .get(`clinic/response-search/${param}`, {\n            headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n          })\n          .then((res) => {\n            commit(\"setData\", { type: \"responses\", data: res.data.data });\n            console.log(\"exidast\", res.data);\n          });\n      },\n  \n  },\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}