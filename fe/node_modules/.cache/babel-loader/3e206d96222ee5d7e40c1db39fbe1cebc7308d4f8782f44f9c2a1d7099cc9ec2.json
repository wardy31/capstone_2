{"ast":null,"code":"import { env } from '../env';\nimport { getContext2dOrThrow } from './getContext2dOrThrow';\nimport { getMediaDimensions } from './getMediaDimensions';\nimport { isMediaLoaded } from './isMediaLoaded';\nexport function createCanvas(_a) {\n  var width = _a.width,\n    height = _a.height;\n  var createCanvasElement = env.getEnv().createCanvasElement;\n  var canvas = createCanvasElement();\n  canvas.width = width;\n  canvas.height = height;\n  return canvas;\n}\nexport function createCanvasFromMedia(media, dims) {\n  var ImageData = env.getEnv().ImageData;\n  if (!(media instanceof ImageData) && !isMediaLoaded(media)) {\n    throw new Error('createCanvasFromMedia - media has not finished loading yet');\n  }\n  var _a = dims || getMediaDimensions(media),\n    width = _a.width,\n    height = _a.height;\n  var canvas = createCanvas({\n    width: width,\n    height: height\n  });\n  if (media instanceof ImageData) {\n    getContext2dOrThrow(canvas).putImageData(media, 0, 0);\n  } else {\n    getContext2dOrThrow(canvas).drawImage(media, 0, 0, width, height);\n  }\n  return canvas;\n}","map":{"version":3,"mappings":"AACA,SAASA,GAAG,QAAQ,QAAQ;AAC5B,SAASC,mBAAmB,QAAQ,uBAAuB;AAC3D,SAASC,kBAAkB,QAAQ,sBAAsB;AACzD,SAASC,aAAa,QAAQ,iBAAiB;AAE/C,OAAM,SAAUC,YAAY,CAACC,EAA8B;MAA5BC,gBAAK;IAAEC,kBAAM;EAElC,0DAAmB;EAC3B,IAAMC,MAAM,GAAGC,mBAAmB,EAAE;EACpCD,MAAM,CAACF,KAAK,GAAGA,KAAK;EACpBE,MAAM,CAACD,MAAM,GAAGA,MAAM;EACtB,OAAOC,MAAM;AACf;AAEA,OAAM,SAAUE,qBAAqB,CAACC,KAAsD,EAAEC,IAAkB;EAEtG,sCAAS;EAEjB,IAAI,EAAED,KAAK,YAAYE,SAAS,CAAC,IAAI,CAACV,aAAa,CAACQ,KAAK,CAAC,EAAE;IAC1D,MAAM,IAAIG,KAAK,CAAC,4DAA4D,CAAC;;EAGzE,0CAAqD;IAAnDR,gBAAK;IAAEC,kBAA4C;EAC3D,IAAMC,MAAM,GAAGJ,YAAY,CAAC;IAAEE,KAAK;IAAEC,MAAM;EAAA,CAAE,CAAC;EAE9C,IAAII,KAAK,YAAYE,SAAS,EAAE;IAC9BZ,mBAAmB,CAACO,MAAM,CAAC,CAACO,YAAY,CAACJ,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;GACtD,MAAM;IACLV,mBAAmB,CAACO,MAAM,CAAC,CAACQ,SAAS,CAACL,KAAK,EAAE,CAAC,EAAE,CAAC,EAAEL,KAAK,EAAEC,MAAM,CAAC;;EAEnE,OAAOC,MAAM;AACf","names":["env","getContext2dOrThrow","getMediaDimensions","isMediaLoaded","createCanvas","_a","width","height","canvas","createCanvasElement","createCanvasFromMedia","media","dims","ImageData","Error","putImageData","drawImage"],"sourceRoot":"","sources":["../../../src/dom/createCanvas.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module","externalDependencies":[]}