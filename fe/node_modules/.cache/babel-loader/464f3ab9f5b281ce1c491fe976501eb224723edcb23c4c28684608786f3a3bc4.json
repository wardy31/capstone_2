{"ast":null,"code":"import axios from \"@/config/axios\";\nimport Swal from \"sweetalert2\";\nexport default {\n  namespaced: true,\n  state: () => ({\n    all: {\n      data: {},\n      error: false,\n      message: \"\",\n      dialog: false,\n      loading: false,\n      page: 1\n    },\n    check: {\n      data: null,\n      health: null,\n      loading: false\n    }\n  }),\n  mutations: {\n    setDialog(state, data) {\n      state.all.dialog = data;\n    },\n    setLoading(state, data) {\n      state.all.loading = data;\n    },\n    setError(state, data) {\n      state.all.error = data.error;\n      state.all.message = data.message;\n    },\n    setData(state, data) {\n      state[data.type].data = data.data;\n    },\n    setPage(state, data) {\n      state[data.type].page = data.page;\n    }\n  },\n  actions: {\n    async followUp({\n      commit,\n      dispatch\n    }, payload) {\n      commit(\"setLoading\", true);\n      try {\n        const res = await axios.post(\"submit-follow-up\", payload, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        });\n        commit(\"setLoading\", false);\n        commit(\"setDialog\", false);\n        dispatch(\"checkFollowUp\");\n        Swal.fire({\n          title: \"Success\",\n          text: \"Successfully Submitted\",\n          icon: \"success\",\n          confirmButtonText: \"close\",\n          timer: 2000\n        });\n        console.log(res.data);\n        return true;\n      } catch (err) {\n        commit(\"setError\", {\n          error: true,\n          message: err.response.data.message\n        });\n        commit(\"setLoading\", false);\n        console.log(err.response.data);\n        return false;\n      }\n    },\n    async checkFollowUp({\n      commit,\n      state\n    }) {\n      axios.get(\"check-followup\", {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      }).then(res => {\n        commit(\"setData\", {\n          type: \"check\",\n          data: res.data\n        });\n        state.check.health = res.data.healthDeclaration;\n        console.log(\" check followUps \", res.data);\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err.response.data);\n      });\n    },\n    async allFollowUp({\n      commit\n    }, params) {\n      axios.get(`clinic/all-follow-ups?page=${params}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      }).then(res => {\n        commit(\"setData\", {\n          type: \"all\",\n          data: res.data\n        });\n        commit(\"setPage\", {\n          type: \"all\",\n          page: res.data.data.last_page\n        });\n        console.log(\"alllfollowUps\", res.data);\n      }).catch(err => {\n        console.log(err.response.data);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","Swal","namespaced","state","all","data","error","message","dialog","loading","page","check","health","mutations","setDialog","setLoading","setError","setData","type","setPage","actions","followUp","commit","dispatch","payload","res","post","headers","Authorization","localStorage","getItem","fire","title","text","icon","confirmButtonText","timer","console","log","err","response","checkFollowUp","get","then","healthDeclaration","catch","allFollowUp","params","last_page"],"sources":["/home/wardy/Desktop/capstone/fe/src/store/modules/followUps.js"],"sourcesContent":["import axios from \"@/config/axios\";\nimport Swal from \"sweetalert2\";\nexport default {\n  namespaced: true,\n  state: () => ({\n    all: {\n      data: {},\n      error: false,\n      message: \"\",\n      dialog: false,\n      loading: false,\n      page: 1,\n    },\n    check: {\n      data: null,\n      health: null,\n      loading: false,\n    },\n  }),\n  mutations: {\n    setDialog(state, data) {\n      state.all.dialog = data;\n    },\n    setLoading(state, data) {\n      state.all.loading = data;\n    },\n    setError(state, data) {\n      state.all.error = data.error;\n      state.all.message = data.message;\n    },\n    setData(state, data) {\n      state[data.type].data = data.data;\n    },\n    setPage(state, data) {\n      state[data.type].page = data.page;\n    },\n  },\n  actions: {\n    async followUp({ commit, dispatch }, payload) {\n      commit(\"setLoading\", true);\n\n      try {\n        const res = await axios.post(\"submit-follow-up\", payload, {\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n        });\n        commit(\"setLoading\", false);\n        commit(\"setDialog\", false);\n        dispatch(\"checkFollowUp\");\n        Swal.fire({\n          title: \"Success\",\n          text: \"Successfully Submitted\",\n          icon: \"success\",\n          confirmButtonText: \"close\",\n          timer: 2000,\n        });\n        console.log(res.data);\n\n        return true;\n      } catch (err) {\n        commit(\"setError\", {\n          error: true,\n          message: err.response.data.message,\n        });\n        commit(\"setLoading\", false);\n        console.log(err.response.data);\n\n        return false;\n      }\n    },\n    async checkFollowUp({ commit, state }) {\n      axios\n        .get(\"check-followup\", {\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n        })\n        .then((res) => {\n          commit(\"setData\", { type: \"check\", data: res.data });\n          state.check.health = res.data.healthDeclaration;\n          console.log(\" check followUps \", res.data);\n          console.log(res.data);\n        })\n        .catch((err) => {\n          console.log(err.response.data);\n        });\n    },\n    async allFollowUp({ commit }, params) {\n      axios\n        .get(`clinic/all-follow-ups?page=${params}`, {\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n        })\n        .then((res) => {\n          commit(\"setData\", { type: \"all\", data: res.data });\n          commit(\"setPage\", { type: \"all\", page: res.data.data.last_page });\n          console.log(\"alllfollowUps\", res.data);\n        })\n        .catch((err) => {\n          console.log(err.response.data);\n        });\n    },\n  },\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}