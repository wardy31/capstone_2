{"ast":null,"code":"import axios from \"../../config/axios\";\nexport default {\n  namespaced: true,\n  state: () => ({\n    all: {\n      data: [],\n      loading: false,\n      error: false\n    },\n    store: {\n      loading: false,\n      error: false\n    },\n    update: {\n      loading: false,\n      error: false\n    },\n    delete: {\n      loading: false,\n      error: false\n    }\n  }),\n  mutations: {\n    setData(state, payload) {\n      state[payload.type].data = payload.data;\n    },\n    setLoading(state, payload) {\n      state[payload.type].loading = payload.loading;\n    },\n    setError(state, payload) {\n      state[payload.type].error = payload.error;\n    }\n  },\n  actions: {\n    async getData({\n      commit\n    }) {\n      try {\n        const {\n          data\n        } = await axios.get(`clinic/questionnaires`, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        });\n        commit(\"setData\", {\n          type: \"all\",\n          data: data.data\n        });\n      } catch (error) {\n        commit(\"setError\", error.response?.status);\n      }\n    },\n    async store({\n      commit,\n      dispatch\n    }, payload) {\n      commit(\"setLoading\", {\n        type: \"store\",\n        loading: true\n      });\n      commit(\"setError\", {\n        type: \"store\",\n        error: false\n      });\n      try {\n        await axios.post(`clinic/questionnaires`, payload, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        });\n        commit(\"setLoading\", {\n          type: \"store\",\n          loading: false\n        });\n        dispatch('getData');\n        return true;\n      } catch (error) {\n        commit(\"setError\", {\n          type: \"store\",\n          error: error.response?.data.errors\n        });\n        commit(\"setLoading\", {\n          type: \"store\",\n          loading: false\n        });\n        return false;\n      }\n    },\n    async update({\n      commit,\n      dispatch\n    }, payload) {\n      commit(\"setLoading\", {\n        type: \"update\",\n        loading: true\n      });\n      commit(\"setError\", {\n        type: \"update\",\n        error: false\n      });\n      try {\n        await axios.put(`clinic/questionnaires/${payload.id}`, payload, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        });\n        commit(\"setLoading\", {\n          type: \"update\",\n          loading: false\n        });\n        dispatch('getData');\n        return true;\n      } catch (error) {\n        commit(\"setError\", {\n          type: \"update\",\n          error: error.response?.data.errors\n        });\n        commit(\"setLoading\", {\n          type: \"update\",\n          loading: false\n        });\n        return false;\n      }\n    },\n    async delete({\n      commit,\n      dispatch\n    }, payload) {\n      commit(\"setLoading\", {\n        type: \"delete\",\n        loading: true\n      });\n      commit(\"setError\", {\n        type: \"delete\",\n        error: false\n      });\n      try {\n        await axios.delete(`clinic/questionnaires/${payload.id}`, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        });\n        commit(\"setLoading\", {\n          type: \"delete\",\n          loading: false\n        });\n        dispatch('getData');\n        return true;\n      } catch (error) {\n        commit(\"setError\", {\n          type: \"delete\",\n          error: error.response?.data.errors\n        });\n        commit(\"setLoading\", {\n          type: \"delete\",\n          loading: false\n        });\n        return false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","namespaced","state","all","data","loading","error","store","update","delete","mutations","setData","payload","type","setLoading","setError","actions","getData","commit","get","headers","Authorization","localStorage","getItem","response","status","dispatch","post","errors","put","id"],"sources":["/home/wardy/Desktop/capstone/fe/src/store/modules/questions.js"],"sourcesContent":["import axios from \"../../config/axios\";\n\nexport default {\n  namespaced: true,\n  state: () => ({\n    all: {\n      data: [],\n      loading: false,\n      error: false,\n    },\n    store: {\n      loading: false,\n      error: false,\n    },\n    update: {\n      loading: false,\n      error: false,\n    },\n    delete: {\n      loading: false,\n      error: false,\n    },\n  }),\n  mutations: {\n    setData(state, payload) {\n      state[payload.type].data = payload.data;\n    },\n    setLoading(state, payload) {\n      state[payload.type].loading = payload.loading;\n    },\n    setError(state, payload) {\n      state[payload.type].error = payload.error;\n    },\n  },\n  actions: {\n    async getData({ commit }) {\n      try {\n        const { data } = await axios.get(`clinic/questionnaires`, {\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n        });\n        commit(\"setData\", { type: \"all\", data: data.data });\n      } catch (error) {\n        commit(\"setError\", error.response?.status);\n      }\n    },\n    async store({ commit,dispatch }, payload) {\n      commit(\"setLoading\", { type: \"store\", loading: true });\n      commit(\"setError\", {type:\"store\",error:false});\n      try {\n        await axios.post(`clinic/questionnaires`, payload, {\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n        });\n        commit(\"setLoading\", { type: \"store\", loading: false });\n        dispatch('getData')\n        return true;\n      } catch (error) {\n        commit(\"setError\", {type:\"store\",error:error.response?.data.errors});\n        commit(\"setLoading\", { type: \"store\", loading: false });\n        return false\n      }\n    },\n    async update({commit,dispatch},payload) {\n        commit(\"setLoading\", { type: \"update\", loading: true });\n        commit(\"setError\", {type:\"update\",error:false});\n        try {\n          await axios.put(`clinic/questionnaires/${payload.id}`, payload, {\n            headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n          });\n          commit(\"setLoading\", { type: \"update\", loading: false });\n          dispatch('getData')\n\n          return true;\n        } catch (error) {\n          commit(\"setError\", {type:\"update\",error:error.response?.data.errors});\n          commit(\"setLoading\", { type: \"update\", loading: false });\n          return false\n        }\n      },\n    async delete({commit,dispatch},payload) {\n        commit(\"setLoading\", { type: \"delete\", loading: true });\n        commit(\"setError\", {type:\"delete\",error:false});\n        try {\n          await axios.delete(`clinic/questionnaires/${payload.id}`, {\n            headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n          });\n          commit(\"setLoading\", { type: \"delete\", loading: false });\n          dispatch('getData')\n          return true;\n        } catch (error) {\n          commit(\"setError\", {type:\"delete\",error:error.response?.data.errors});\n          commit(\"setLoading\", { type: \"delete\", loading: false });\n          return false\n        }\n    },\n  },\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}