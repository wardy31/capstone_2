{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapState } from 'vuex';\nimport * as faceapi from 'face-api.js';\nexport default {\n  mounted() {\n    const run = async () => {\n      await faceapi.nets.ssdMobilenetv1.loadFromUri('/weights');\n      await faceapi.nets.faceRecognitionNet.loadFromUri('/weights');\n      await faceapi.nets.tinyFaceDetector.loadFromUri('/weights');\n      console.log(faceapi.nets);\n      this.faceLoading = false;\n    };\n    run();\n  },\n  computed: {\n    ...mapState({\n      loading: state => state.register.submit.loading,\n      error: state => state.register.submit.error,\n      message: state => state.register.submit.message\n    })\n  },\n  data() {\n    return {\n      faceLoading: true,\n      snackBar1: false,\n      snackBar2: false,\n      loading_1: false,\n      loading_2: false,\n      error_1: false,\n      error_2: false,\n      clinic: {\n        first_name: \"\",\n        middle_name: \"\",\n        last_name: \"\",\n        address: \"\",\n        deparment: \"\",\n        gender: \"\",\n        contact_number: \"\",\n        username: \"\",\n        password: \"\",\n        password_confirmation: \"\",\n        email: \"\",\n        vaccination_status: \"\",\n        classification_id: \"\",\n        upload_1: null,\n        upload_2: null\n      }\n    };\n  },\n  methods: {\n    async submit() {\n      const fd = new FormData();\n      fd.append('first_name', this.clinic.first_name);\n      fd.append('middle_name', this.clinic.middle_name);\n      fd.append('last_name', this.clinic.last_name);\n      fd.append('vaccination_status', this.clinic.vaccination_status);\n      fd.append('gender', this.clinic.gender);\n      fd.append('address', this.clinic.address);\n      fd.append('email', this.clinic.email);\n      fd.append('department', this.clinic.department);\n      fd.append('contact_number', this.clinic.contact_number);\n      fd.append('classification_id', this.clinic.classification_id);\n      fd.append('username', this.clinic.username);\n      fd.append('password', this.clinic.password);\n      fd.append('password_confirmation', this.clinic.password_confirmation);\n      fd.append('upload_1', this.clinic.upload_1);\n      fd.append('upload_2', this.clinic.upload_2);\n      const res = await this.$store.dispatch('register/createUser', fd);\n      if (res) {\n        this.clinic.first_name = \"\";\n        this.clinic.middle_name = \"\";\n        this.clinic.last_name = \"\";\n        this.clinic.vaccination_status = \"\";\n        this.clinic.gender = \"\";\n        this.clinic.address = \"\";\n        this.clinic.email = \"\";\n        this.clinic.department = \"\";\n        this.clinic.contact_number = \"\";\n        this.clinic.classification_id = \"\";\n        this.clinic.username = \"\";\n        this.clinic.password = \"\";\n        this.clinic.password_confirmation = \"\";\n        this.clinic.upload_1 = \"\";\n        this.clinic.upload_2 = \"\";\n        this.$router.push('/');\n      }\n    },\n    async handleImage(e) {\n      console.log('e', e);\n      this.loading_1 = true;\n      const image = await faceapi.bufferToImage(e);\n      const result = await faceapi.detectSingleFace(image);\n      if (!result) {\n        this.clinic.upload_1 = \"\";\n        this.snackBar1 = true;\n        this.loading_1 = false;\n      }\n      this.loading_1 = false;\n      console.log('result', result);\n    },\n    async handleImage2(e) {\n      console.log('e', e);\n      this.loading_2 = true;\n      const image = await faceapi.bufferToImage(e);\n      const result = await faceapi.detectSingleFace(image);\n      if (!result) {\n        this.clinic.upload_2 = \"\";\n        this.snackBar2 = true;\n        this.loading_2 = false;\n      }\n      this.loading_2 = false;\n      console.log('result', result);\n    }\n  }\n};","map":{"version":3,"mappings":";AA6HA;AACA;AAEA;EACAA;IACA;MACA;MACA;MACA;MACAC;MACA;IACA;IAEAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;IACA;EACA;EACAC;IACA;MACA;MAEAC;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MAEA;MAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QAEA;MACA;IAEA;IACA;MACA/B;MAEA;MACA;MACA;MAEA;QACA;QACA;QACA;MACA;MAEA;MACAA;IACA;IACA;MACAA;MAEA;MACA;MACA;MAEA;QACA;QACA;QACA;MACA;MAEA;MACAA;IACA;EAEA;AACA","names":["mounted","console","run","computed","loading","error","message","data","faceLoading","snackBar1","snackBar2","loading_1","loading_2","error_1","error_2","clinic","first_name","middle_name","last_name","address","deparment","gender","contact_number","username","password","password_confirmation","email","vaccination_status","classification_id","upload_1","upload_2","methods","fd"],"sourceRoot":"src/views","sources":["UserRegister.vue"],"sourcesContent":["<template>\r\n  <v-app>\r\n    <v-main class=\"primary\">\r\n      <v-container v-if=\"faceLoading\">\r\n        <v-card width=\"800\" class=\"rounded-lg elevation-6 accent mx-auto my-auto\">\r\n          <v-card-title class=\"primary--text\">\r\n            <h3>Create Account</h3>\r\n          </v-card-title>\r\n\r\n          <h5 class=\"mx-4 mb-2 secondary--text\">* User Registration.</h5>\r\n          <div class=\"text-center mt-16  pb-16\">\r\n            <h2 class=\"mt-16 mb-8\">Loading Please Wait ....</h2>\r\n            <v-progress-circular :size=\"$vuetify.breakpoint.mobile ? 60 : 70\" :width=\"10\" color=\"primary\"\r\n              indeterminate></v-progress-circular>\r\n          </div>\r\n        </v-card>\r\n      </v-container>\r\n\r\n      <v-container v-else>\r\n        <v-card class=\"rounded-lg elevation-6 accent mx-auto my-auto\" width=\"800\">\r\n          <v-card-title class=\"primary--text\">\r\n            <h3>Create Account</h3>\r\n          </v-card-title>\r\n          <h5 class=\"mx-4 mb-2 secondary--text\">* User Registration.</h5>\r\n          <v-divider></v-divider>\r\n          <div class=\"mx-4 mx-lg-12 mt-6\">\r\n            <h4 class=\"mb-2\">Personal Information</h4>\r\n\r\n            <v-row dense>\r\n              <v-col cols=\"12\" lg=\"4\"><v-text-field label=\"First Name\" hide-details=\"auto\" filled dense outlined\r\n                  :error-messages=\"message.first_name\" v-model=\"clinic.first_name\"></v-text-field></v-col>\r\n              <v-col cols=\"12\" lg=\"4\"><v-text-field label=\"Middle Name\" hide-details=\"auto\" filled dense outlined\r\n                  :error-messages=\"message.middle_name\" v-model=\"clinic.middle_name\"></v-text-field></v-col>\r\n              <v-col cols=\"12\" lg=\"4\"><v-text-field label=\"Last Name\" hide-details=\"auto\" filled dense outlined\r\n                  :error-messages=\"message.last_name\" v-model=\"clinic.last_name\"></v-text-field></v-col>\r\n            </v-row>\r\n            <v-row dense>\r\n              <v-col cols=\"12\" lg=\"6\"><v-text-field label=\"Department\" hide-details=\"auto\"\r\n                  :error-messages=\"message.department\" v-model=\"clinic.department\" filled dense\r\n                  outlined></v-text-field></v-col>\r\n              <v-col cols=\"12\" lg=\"3\"> <v-select class=\"text-capitalize\"\r\n                  :items=\"[{ name: `student`, id: 1 }, { name: `employee`, id: 2 }, { name: `visitor`, id: 3 }]\"\r\n                  item-text=\"name\" item-value=\"id\" hide-details=\"auto\" :error-messages=\"message.classification_id\"\r\n                  v-model=\"clinic.classification_id\" outlined dense filled label=\"Classification\" />\r\n              </v-col>\r\n              <v-col cols=\"12\" lg=\"3\"> <v-select :items=\"['Male', 'Female']\" v-model=\"clinic.gender\" outlined dense filled\r\n                  hide-details=\"auto\" :error-messages=\"message.gender\" label=\"Gender\" />\r\n              </v-col>\r\n            </v-row>\r\n\r\n            <v-row dense>\r\n              <v-col cols=\"12\" lg=\"5\"><v-text-field label=\"Address\" filled dense outlined hide-details=\"auto\"\r\n                  :error-messages=\"message.address\" v-model=\"clinic.address\"></v-text-field></v-col>\r\n              <v-col cols=\"12\" lg=\"7\"> <v-select :items=\"['Partially Vaccinated', 'Fully Vaccinated', 'Booster']\"\r\n                  v-model=\"clinic.vaccination_status\" hide-details=\"auto\" :error-messages=\"message.vaccination_status\"\r\n                  outlined dense filled label=\"Vaccination Status\" />\r\n              </v-col>\r\n            </v-row>\r\n            <v-row dense>\r\n              <v-col cols=\"12\" lg=\"6\"><v-text-field type=\"number\" label=\"Contact Number\" filled dense outlined\r\n                  hide-details=\"auto\" :error-messages=\"message.contact_number\"\r\n                  v-model=\"clinic.contact_number\"></v-text-field></v-col>\r\n              <v-col cols=\"12\" lg=\"6\"><v-text-field label=\"Email\" filled dense outlined v-model=\"clinic.email\"\r\n                  hide-details=\"auto\" :error-messages=\"message.email\"></v-text-field></v-col>\r\n            </v-row>\r\n\r\n            <h4 class=\"mt-6\">Upload Face Image</h4>\r\n            <h5 class=\"secondary--text mb-2\">*This is for face recognition</h5>\r\n            <v-row dense>\r\n              <v-col> <v-file-input accept=\"image/*\" :loading=\"loading_1\" @change=\"handleImage\" v-model=\"clinic.upload_1\"\r\n                  :prepend-icon=\"false\" prepend-inner-icon=\"image\" outlined dense filled placeholder=\"Upload 1\"\r\n                  hide-details=\"auto\" :error-messages=\"message.upload_1\"></v-file-input>\r\n              </v-col>\r\n              <v-col>\r\n                <v-file-input accept=\"image/*\" :loading=\"loading_2\" :prepend-icon=\"false\" @change=\"handleImage2\"\r\n                  prepend-inner-icon=\"image\" v-model=\"clinic.upload_2\" outlined dense filled placeholder=\"Upload 2\"\r\n                  hide-details=\"auto\" :error-messages=\"message.upload_2\"></v-file-input>\r\n              </v-col>\r\n            </v-row>\r\n\r\n            <h4 class=\"mt-6 mb-2\">Security Information</h4>\r\n            <v-row dense>\r\n              <v-col cols=\"12\" lg=\"6\"><v-text-field label=\"Username\" filled dense outlined prepend-inner-icon=\"person\"\r\n                  :error-messages=\"message.username\" hide-details=\"auto\" v-model=\"clinic.username\"></v-text-field></v-col>\r\n            </v-row>\r\n\r\n            <v-row dense>\r\n              <v-col cols=\"12\" lg=\"6\"><v-text-field label=\"Password\" filled dense outlined type=\"password\"\r\n                  prepend-inner-icon=\"vpn_key\" hide-details=\"auto\" :error-messages=\"message.password\"\r\n                  v-model=\"clinic.password\"></v-text-field></v-col>\r\n              <v-col cols=\"12\" lg=\"6\"><v-text-field label=\"Confirm Password\" filled dense outlined type=\"password\"\r\n                  prepend-inner-icon=\"vpn_key\" hide-details=\"auto\" :error=\"message.password\"\r\n                  v-model=\"clinic.password_confirmation\"></v-text-field></v-col>\r\n            </v-row>\r\n            <v-snackbar color=\"error\" v-model=\"snackBar1\" bottom right>\r\n              <v-icon class=\"mr-2\">error</v-icon> No Face was Detected\r\n            </v-snackbar>\r\n            <v-snackbar color=\"error\" v-model=\"snackBar2\" bottom right>\r\n              <v-icon class=\"mr-2\">error</v-icon> No Face was Detected\r\n            </v-snackbar>\r\n\r\n            <div class=\"mt-6 pb-2\" v-if=\"$vuetify.breakpoint.mobile\">\r\n              <v-btn color=\"primary\" @click=\"submit\" :loading=\"loading\" :block=\"$vuetify.breakpoint.mobile\"\r\n                class=\"pa-5 px-4 mr-8 mb-1 text-capitalize\">Create\r\n                Account</v-btn>\r\n\r\n              <v-btn text plain to=\"/\" :block=\"$vuetify.breakpoint.mobile\" class=\"text-capitalize\">Cancel</v-btn>\r\n            </div>\r\n            <v-card-actions class=\"mt-6\" v-else>\r\n              <v-spacer></v-spacer>\r\n              <v-btn text plain to=\"/\" :block=\"$vuetify.breakpoint.mobile\" class=\"text-capitalize\">Cancel</v-btn>\r\n\r\n              <v-btn color=\"primary\" @click=\"submit\" :loading=\"loading\" :block=\"$vuetify.breakpoint.mobile\"\r\n                class=\"pa-5 px-4 text-capitalize\">Create\r\n                Account</v-btn>\r\n\r\n            </v-card-actions>\r\n          </div>\r\n        </v-card>\r\n      </v-container>\r\n    </v-main>\r\n  </v-app>\r\n</template>\r\n  \r\n<script>\r\nimport { mapState } from 'vuex';\r\nimport * as faceapi from 'face-api.js'\r\n\r\nexport default {\r\n  mounted() {\r\n    const run = async () => {\r\n      await faceapi.nets.ssdMobilenetv1.loadFromUri('/weights')\r\n      await faceapi.nets.faceRecognitionNet.loadFromUri('/weights')\r\n      await faceapi.nets.tinyFaceDetector.loadFromUri('/weights')\r\n      console.log(faceapi.nets);\r\n      this.faceLoading = false\r\n    }\r\n\r\n    run()\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      loading: state => state.register.submit.loading,\r\n      error: state => state.register.submit.error,\r\n      message: state => state.register.submit.message\r\n    })\r\n  },\r\n  data() {\r\n    return {\r\n      faceLoading: true,\r\n      snackBar1: false,\r\n      snackBar2: false,\r\n      loading_1: false,\r\n      loading_2: false,\r\n      error_1: false,\r\n      error_2: false,\r\n      clinic: {\r\n        first_name: \"\",\r\n        middle_name: \"\",\r\n        last_name: \"\",\r\n        address: \"\",\r\n        deparment: \"\",\r\n        gender: \"\",\r\n        contact_number: \"\",\r\n        username: \"\",\r\n        password: \"\",\r\n        password_confirmation: \"\",\r\n        email: \"\",\r\n        vaccination_status: \"\",\r\n        classification_id: \"\",\r\n        upload_1: null,\r\n        upload_2: null\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async submit() {\r\n      const fd = new FormData()\r\n\r\n      fd.append('first_name', this.clinic.first_name)\r\n      fd.append('middle_name', this.clinic.middle_name)\r\n      fd.append('last_name', this.clinic.last_name)\r\n      fd.append('vaccination_status', this.clinic.vaccination_status)\r\n      fd.append('gender', this.clinic.gender)\r\n      fd.append('address', this.clinic.address)\r\n      fd.append('email', this.clinic.email)\r\n      fd.append('department', this.clinic.department)\r\n      fd.append('contact_number', this.clinic.contact_number)\r\n      fd.append('classification_id', this.clinic.classification_id)\r\n      fd.append('username', this.clinic.username)\r\n      fd.append('password', this.clinic.password)\r\n      fd.append('password_confirmation', this.clinic.password_confirmation)\r\n      fd.append('upload_1', this.clinic.upload_1)\r\n      fd.append('upload_2', this.clinic.upload_2)\r\n\r\n      const res = await this.$store.dispatch('register/createUser', fd)\r\n\r\n      if (res) {\r\n        this.clinic.first_name = \"\"\r\n        this.clinic.middle_name = \"\"\r\n        this.clinic.last_name = \"\"\r\n        this.clinic.vaccination_status = \"\"\r\n        this.clinic.gender = \"\"\r\n        this.clinic.address = \"\"\r\n        this.clinic.email = \"\"\r\n        this.clinic.department = \"\"\r\n        this.clinic.contact_number = \"\"\r\n        this.clinic.classification_id = \"\"\r\n        this.clinic.username = \"\"\r\n        this.clinic.password = \"\"\r\n        this.clinic.password_confirmation = \"\"\r\n        this.clinic.upload_1 = \"\"\r\n        this.clinic.upload_2 = \"\"\r\n\r\n        this.$router.push('/')\r\n      }\r\n\r\n    },\r\n    async handleImage(e) {\r\n      console.log('e', e)\r\n\r\n      this.loading_1 = true\r\n      const image = await faceapi.bufferToImage(e)\r\n      const result = await faceapi.detectSingleFace(image)\r\n\r\n      if (!result) {\r\n        this.clinic.upload_1 = \"\"\r\n        this.snackBar1 = true\r\n        this.loading_1 = false\r\n      }\r\n\r\n      this.loading_1 = false\r\n      console.log('result', result);\r\n    },\r\n    async handleImage2(e) {\r\n      console.log('e', e)\r\n\r\n      this.loading_2 = true\r\n      const image = await faceapi.bufferToImage(e)\r\n      const result = await faceapi.detectSingleFace(image)\r\n\r\n      if (!result) {\r\n        this.clinic.upload_2 = \"\"\r\n        this.snackBar2 = true\r\n        this.loading_2 = false\r\n      }\r\n\r\n      this.loading_2 = false\r\n      console.log('result', result);\r\n    }\r\n\r\n  }\r\n};\r\n</script>\r\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}