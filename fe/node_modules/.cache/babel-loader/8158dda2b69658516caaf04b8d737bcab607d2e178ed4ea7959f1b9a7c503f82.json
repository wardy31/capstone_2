{"ast":null,"code":"import axios from \"@/config/axios\";\nexport default {\n  namespaced: true,\n  state: () => ({\n    credentials: {\n      data: null,\n      loading: false,\n      error: false,\n      next: false,\n      success: false,\n      message: \"\",\n      back: false\n    },\n    role: []\n  }),\n  mutations: {\n    setData(state, payload) {\n      state[payload.type].data = payload.data;\n    },\n    next(state, data) {\n      state.credentials.next = data;\n    },\n    setBack(state, data) {\n      state.credentials.back = data;\n    },\n    setLoading(state, payload) {\n      state[payload.type].loading = payload.loading;\n    },\n    setError(state, payload) {\n      state[payload.type].error = payload.error;\n      state[payload.type].message = payload.message;\n    },\n    setRole(state, payload) {\n      state.role = payload;\n    },\n    setSuccess(state, payload) {\n      state.credentials.success = payload;\n    }\n  },\n  actions: {\n    async changePassword({\n      commit\n    }, params) {\n      commit('setError', {\n        type: \"credentials\",\n        error: null\n      });\n      commit('setSuccess', false);\n      axios.post(`clinic/change-password/${params.id}`, params.forms, {\n        headers: {\n          \"Authorization\": `Bearer ${localStorage.getItem('token')}`\n        }\n      }).then(res => {\n        commit('setSuccess', true);\n        console.log(res);\n        console.log(commit);\n      }).catch(err => {\n        console.log(err.response);\n        commit('setError', {\n          type: \"credentials\",\n          error: err.response.data.errors\n        });\n      });\n    },\n    async getRole({\n      commit\n    }) {\n      axios.get('clinic/role', {\n        headers: {\n          \"Authorization\": `Bearer ${localStorage.getItem('token')}`\n        }\n      }).then(res => {\n        commit(\"setRole\", res.data.data);\n        console.log('role', res.data.data);\n      });\n    },\n    async getUser({\n      commit\n    }) {\n      commit(\"setLoading\", {\n        type: \"credentials\",\n        loading: true\n      });\n      axios.get(\"user-clinic\", {\n        headers: {\n          \"Authorization\": `Bearer ${localStorage.getItem('token')}`\n        }\n      }).then(res => {\n        commit(\"setData\", {\n          type: \"credentials\",\n          data: res.data.data\n        });\n        commit(\"setLoading\", {\n          type: \"credentials\",\n          loading: false\n        });\n        console.log(res.data.data);\n      }).catch(() => {\n        commit(\"setLoading\", {\n          type: \"credentials\",\n          loading: false\n        });\n        localStorage.removeItem('token');\n      });\n    },\n    async loadUser({\n      commit\n    }) {\n      axios.get(\"user-clinic\", {\n        headers: {\n          \"Authorization\": `Bearer ${localStorage.getItem('token')}`\n        }\n      }).then(res => {\n        commit(\"setData\", {\n          type: \"credentials\",\n          data: res.data.data\n        });\n        console.log(res.data.data);\n      }).catch(() => {\n        localStorage.removeItem('token');\n      });\n    },\n    async login({\n      commit\n    }, payload) {\n      commit(\"setLoading\", {\n        type: \"credentials\",\n        loading: true\n      });\n      commit(\"setError\", {\n        type: \"credentials\",\n        error: false,\n        message: \" \"\n      });\n      axios.post(\"login-clinic\", payload).then(res => {\n        commit(\"setData\", {\n          type: \"credentials\",\n          data: res.data.data\n        });\n        localStorage.setItem(\"token\", res.data.token);\n        commit(\"next\", true);\n        commit(\"setLoading\", {\n          type: \"credentials\",\n          loading: false\n        });\n        console.log(res.data);\n      }).catch(err => {\n        commit(\"setLoading\", {\n          type: \"credentials\",\n          loading: false\n        });\n        commit(\"setError\", {\n          type: \"credentials\",\n          error: true,\n          message: err.response.data.errors\n        });\n        console.log(err.response.data);\n      });\n    },\n    async reset({\n      commit\n    }) {\n      commit(\"next\", false);\n    }\n  }\n};","map":{"version":3,"names":["axios","namespaced","state","credentials","data","loading","error","next","success","message","back","role","mutations","setData","payload","type","setBack","setLoading","setError","setRole","setSuccess","actions","changePassword","commit","params","post","id","forms","headers","localStorage","getItem","then","res","console","log","catch","err","response","errors","getRole","get","getUser","removeItem","loadUser","login","setItem","token","reset"],"sources":["/home/wardy/Desktop/capstone/fe/src/store/modules/clinic.js"],"sourcesContent":["import axios from \"@/config/axios\";\n\nexport default {\n  namespaced: true,\n  state: () => ({\n    credentials: {\n      data: null,\n      loading: false,\n      error: false,\n      next: false,\n      success:false,\n      message: \"\",\n      back:false\n    },\n    role:[]\n  }),\n  mutations: {\n    setData(state, payload) {\n      state[payload.type].data = payload.data;\n    },\n    next(state, data) {\n      state.credentials.next = data;\n    },\n    setBack(state,data){\n      state.credentials.back = data\n    },\n    setLoading(state, payload) {\n      state[payload.type].loading = payload.loading;\n    },\n    setError(state, payload) {\n      state[payload.type].error = payload.error;\n      state[payload.type].message = payload.message;\n    },\n    setRole(state,payload){\n      state.role = payload\n    },\n    setSuccess(state,payload){\n      state.credentials.success = payload\n    }\n  },\n  actions: {\n    async changePassword ({commit},params){\n      commit('setError',{type:\"credentials\",error:null})\n      commit('setSuccess',false)\n      axios.post(`clinic/change-password/${params.id}`,params.forms,{headers:{\n        \"Authorization\" : `Bearer ${localStorage.getItem('token')}`\n      }}).then(res =>{\n          commit('setSuccess',true)\n          console.log(res);\n          console.log(commit);\n      }).catch(err =>{\n        console.log(err.response);\n        commit('setError',{type:\"credentials\",error:err.response.data.errors})\n      })\n    },\n    async getRole({commit}){\n      axios.get('clinic/role',{headers:{\"Authorization\" : `Bearer ${localStorage.getItem('token')}`}}).then(res =>{\n        commit(\"setRole\",res.data.data)\n        console.log('role',res.data.data);\n      })\n    },\n    async getUser({ commit }) {\n      commit(\"setLoading\", {type:\"credentials\",loading:true});\n      axios.get(\"user-clinic\",{headers:{\"Authorization\" : `Bearer ${localStorage.getItem('token')}`}}).then((res) => {\n        commit(\"setData\", { type: \"credentials\", data: res.data.data });\n        commit(\"setLoading\", {type:\"credentials\",loading:false});\n        console.log(res.data.data);\n      }).catch(() =>{\n        commit(\"setLoading\", {type:\"credentials\",loading:false});\n        localStorage.removeItem('token')\n      });\n    },\n    async loadUser({ commit }) {\n      axios.get(\"user-clinic\",{headers:{\"Authorization\" : `Bearer ${localStorage.getItem('token')}`}}).then((res) => {\n        commit(\"setData\", { type: \"credentials\", data: res.data.data });\n        console.log(res.data.data);\n      }).catch(() =>{\n        localStorage.removeItem('token')\n      });\n    },\n    async login({ commit }, payload) {\n      commit(\"setLoading\", { type: \"credentials\", loading: true });\n      commit(\"setError\", { type: \"credentials\", error: false, message: \" \" });\n      axios\n        .post(\"login-clinic\", payload)\n        .then((res) => {\n          commit(\"setData\", { type: \"credentials\", data: res.data.data });\n          localStorage.setItem(\"token\", res.data.token);\n          commit(\"next\", true);\n          commit(\"setLoading\", { type: \"credentials\", loading: false });\n          console.log(res.data);\n        })\n        .catch((err) => {\n          commit(\"setLoading\", { type: \"credentials\", loading: false });\n          commit(\"setError\", {\n            type: \"credentials\",\n            error: true,\n            message: err.response.data.errors,\n          });\n          console.log(err.response.data);\n        });\n    },\n    async reset({ commit }) {\n      commit(\"next\", false);\n    },\n  },\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}