{"ast":null,"code":"import { __spreadArrays } from \"tslib\";\nimport * as tf from '@tensorflow/tfjs-core';\nexport function normalize(x, meanRgb) {\n  return tf.tidy(function () {\n    var r = meanRgb[0],\n      g = meanRgb[1],\n      b = meanRgb[2];\n    var avg_r = tf.fill(__spreadArrays(x.shape.slice(0, 3), [1]), r);\n    var avg_g = tf.fill(__spreadArrays(x.shape.slice(0, 3), [1]), g);\n    var avg_b = tf.fill(__spreadArrays(x.shape.slice(0, 3), [1]), b);\n    var avg_rgb = tf.concat([avg_r, avg_g, avg_b], 3);\n    return tf.sub(x, avg_rgb);\n  });\n}","map":{"version":3,"mappings":";AAAA,OAAO,KAAKA,EAAE,MAAM,uBAAuB;AAE3C,OAAM,SAAUC,SAAS,CAACC,CAAc,EAAEC,OAAiB;EACzD,OAAOH,EAAE,CAACI,IAAI,CAAC;IACN,kBAAC;MAAEC,cAAC;MAAEC,cAAC;IACd,IAAMC,KAAK,GAAGP,EAAE,CAACQ,IAAI,gBAAKN,CAAC,CAACO,KAAK,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAE,CAAC,IAAGC,CAAC,CAAC;IACrD,IAAMC,KAAK,GAAGZ,EAAE,CAACQ,IAAI,gBAAKN,CAAC,CAACO,KAAK,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAE,CAAC,IAAGL,CAAC,CAAC;IACrD,IAAMQ,KAAK,GAAGb,EAAE,CAACQ,IAAI,gBAAKN,CAAC,CAACO,KAAK,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAE,CAAC,IAAGJ,CAAC,CAAC;IACrD,IAAMQ,OAAO,GAAGd,EAAE,CAACe,MAAM,CAAC,CAACR,KAAK,EAAEK,KAAK,EAAEC,KAAK,CAAC,EAAE,CAAC,CAAC;IAEnD,OAAOb,EAAE,CAACgB,GAAG,CAACd,CAAC,EAAEY,OAAO,CAAC;EAC3B,CAAC,CAAC;AACJ","names":["tf","normalize","x","meanRgb","tidy","g","b","avg_r","fill","shape","slice","r","avg_g","avg_b","avg_rgb","concat","sub"],"sourceRoot":"","sources":["../../../src/ops/normalize.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module","externalDependencies":[]}