{"ast":null,"code":"// import axios from \"@/config/axios\"\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nexport default {\n  namespaced: true,\n  state: () => ({\n    all: {\n      data: [],\n      loading: false,\n      error: false\n    },\n    submit: {\n      loading: false,\n      error: false,\n      message: \"\",\n      dialog: false,\n      refresh: false\n    }\n  }),\n  mutations: {\n    setLoading(state, payload) {\n      state[payload.type].loading = payload.loading;\n    },\n    setError(state, payload) {\n      state[payload.type].error = payload.error;\n      state[payload.type].message = payload.message;\n    },\n    setDialog(state, payload) {\n      state.submit.dialog = payload;\n    },\n    setRefresh(state, payload) {\n      state.submit.refresh = payload;\n    }\n  },\n  actions: {\n    async createClinic({\n      commit\n    }, payload) {\n      commit(\"setLoading\", {\n        type: \"submit\",\n        loading: true\n      });\n      commit(\"setError\", {\n        type: \"submit\",\n        error: false,\n        message: \"\"\n      });\n      axios.post(\"http://192.168.1.136:8000/api/clinic/register-clinic\", payload, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      }).then(res => {\n        commit(\"setLoading\", {\n          type: \"submit\",\n          loading: false\n        });\n        commit(\"setDialog\", false);\n        commit(\"setRefresh\", true);\n        Swal.fire({\n          title: \"Success\",\n          text: \"Successfully Created Staff\",\n          icon: \"success\",\n          confirmButtonText: \"close\",\n          showCloseButton: true,\n          html: `The Username & Password is <b>${res.data.data.username} </b> <br>`\n        });\n        console.log(res.data);\n      }).catch(err => {\n        commit(\"setLoading\", {\n          type: \"submit\",\n          loading: false\n        });\n        commit(\"setError\", {\n          type: \"submit\",\n          error: true,\n          message: err.response.data.message\n        });\n        console.log(err.response.data);\n      });\n    },\n    async createUser({\n      commit\n    }, payload) {\n      commit(\"setLoading\", {\n        type: \"submit\",\n        loading: true\n      });\n      commit(\"setError\", {\n        type: \"submit\",\n        error: false,\n        message: \"\"\n      });\n      try {\n        const {\n          data\n        } = await axios.post(`${process.env.VUE_APP_API}/register-user`, payload, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\"\n          }\n        });\n        const ss = await axios.post(`${process.env.VUE_APP_NODE}/create-account/${data.data.id}`, payload, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\"\n            // \"X-Requested-With\": \"XMLHttpRequest\",\n          }\n          // withCredentials:true\n        });\n\n        commit(\"setLoading\", {\n          type: \"submit\",\n          loading: false\n        });\n        Swal.fire({\n          title: \"Success\",\n          text: \"Successfully Created\",\n          icon: \"success\",\n          confirmButtonText: \"close\",\n          timer: 2000\n        });\n        console.log(\"data\", data.data);\n        console.log(\"data\", ss);\n        return true;\n      } catch (err) {\n        commit(\"setLoading\", {\n          type: \"submit\",\n          loading: false\n        });\n        commit(\"setError\", {\n          type: \"submit\",\n          error: true,\n          message: err.response.data.errors\n        });\n        console.log(err.response.data);\n        return false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","Swal","namespaced","state","all","data","loading","error","submit","message","dialog","refresh","mutations","setLoading","payload","type","setError","setDialog","setRefresh","actions","createClinic","commit","post","headers","Authorization","localStorage","getItem","then","res","fire","title","text","icon","confirmButtonText","showCloseButton","html","username","console","log","catch","err","response","createUser","process","env","VUE_APP_API","ss","VUE_APP_NODE","id","timer","errors"],"sources":["/home/wardy/Desktop/capstone/fe/src/store/modules/register.js"],"sourcesContent":["// import axios from \"@/config/axios\"\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nexport default {\n  namespaced: true,\n  state: () => ({\n    all: {\n      data: [],\n      loading: false,\n      error: false,\n    },\n    submit: {\n      loading: false,\n      error: false,\n      message: \"\",\n      dialog: false,\n      refresh: false,\n    },\n  }),\n  mutations: {\n    setLoading(state, payload) {\n      state[payload.type].loading = payload.loading;\n    },\n    setError(state, payload) {\n      state[payload.type].error = payload.error;\n      state[payload.type].message = payload.message;\n    },\n    setDialog(state, payload) {\n      state.submit.dialog = payload;\n    },\n    setRefresh(state, payload) {\n      state.submit.refresh = payload;\n    },\n  },\n  actions: {\n    async createClinic({ commit }, payload) {\n      commit(\"setLoading\", { type: \"submit\", loading: true });\n      commit(\"setError\", { type: \"submit\", error: false, message: \"\" });\n      axios\n        .post(\"http://192.168.1.136:8000/api/clinic/register-clinic\", payload, {\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n        })\n        .then((res) => {\n          commit(\"setLoading\", { type: \"submit\", loading: false });\n          commit(\"setDialog\", false);\n          commit(\"setRefresh\", true);\n          Swal.fire({\n            title: \"Success\",\n            text: \"Successfully Created Staff\",\n            icon: \"success\",\n            confirmButtonText: \"close\",\n            showCloseButton: true,\n            html: `The Username & Password is <b>${res.data.data.username} </b> <br>`,\n          });\n          console.log(res.data);\n        })\n        .catch((err) => {\n          commit(\"setLoading\", { type: \"submit\", loading: false });\n          commit(\"setError\", {\n            type: \"submit\",\n            error: true,\n            message: err.response.data.message,\n          });\n          console.log(err.response.data);\n        });\n    },\n\n    async createUser({ commit }, payload) {\n      commit(\"setLoading\", { type: \"submit\", loading: true });\n      commit(\"setError\", { type: \"submit\", error: false, message: \"\" });\n\n      try {\n        const { data } = await axios.post(\n          `${process.env.VUE_APP_API}/register-user`,\n          payload,\n          {\n            headers: { \"Content-Type\": \"multipart/form-data\" },\n          }\n        );\n        const ss = await axios.post(\n          `${process.env.VUE_APP_NODE}/create-account/${data.data.id}`,\n          payload,\n          {\n            headers: {\n              \"Content-Type\": \"multipart/form-data\",\n              // \"X-Requested-With\": \"XMLHttpRequest\",\n            },\n            // withCredentials:true\n          }\n        );\n\n        commit(\"setLoading\", { type: \"submit\", loading: false });\n        Swal.fire({\n          title: \"Success\",\n          text: \"Successfully Created\",\n          icon: \"success\",\n          confirmButtonText: \"close\",\n          timer: 2000,\n        });\n\n        console.log(\"data\", data.data);\n        console.log(\"data\", ss);\n\n        return true;\n      } catch (err) {\n        commit(\"setLoading\", { type: \"submit\", loading: false });\n        commit(\"setError\", {\n          type: \"submit\",\n          error: true,\n          message: err.response.data.errors,\n        });\n        console.log(err.response.data);\n\n        return false;\n      }\n    },\n  },\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}