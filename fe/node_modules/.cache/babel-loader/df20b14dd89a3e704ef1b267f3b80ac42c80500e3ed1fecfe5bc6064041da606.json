{"ast":null,"code":"import axios from \"@/config/axios\";\n// import { all } from \"core-js/fn/promise\";\n// import Swal from 'sweetalert2'\nexport default {\n  namespaced: true,\n  state: () => ({\n    all: {\n      data: [],\n      error: false,\n      message: \"\",\n      dialog: false,\n      loading: false\n    },\n    selected: {\n      loading: false\n    }\n  }),\n  mutations: {\n    setData(state, data) {\n      state[data.type].data = data.data;\n    },\n    setDialog(state, data) {\n      state.all.dialog = data;\n    },\n    setLoading(state, data) {\n      state.all.loading = data;\n    },\n    setError(state, data) {\n      state.all.error = data.error;\n      state.all.message = data.message;\n    }\n  },\n  actions: {\n    async submitCheckSelected({\n      state\n    }, param) {\n      state.selected.loading = true;\n      try {\n        await axios.post(`clinic/store-contact-selected/${param.id}`, param.data, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        });\n        state.selected.loading = false;\n        return true;\n      } catch (error) {\n        console.log(error);\n        state.selected.loading = false;\n        return false;\n      }\n    },\n    async getVisitedLocation({\n      commit\n    }, payload) {\n      commit(\"setLoading\", true);\n      axios.get(`clinic/get-visited-location/${payload}`, {\n        headers: {\n          \"Authorization\": `Bearer ${localStorage.getItem('token')}`\n        }\n      }).then(res => {\n        const {\n          data\n        } = res.data;\n        commit(\"setLoading\", false);\n        commit(\"setData\", {\n          type: \"all\",\n          data: data\n        });\n        // Swal.fire({\n        //     title: 'Success',\n        //     text: 'Successfully Submitted',\n        //     icon: 'success',\n        //     confirmButtonText: 'close',\n        //     timer: 2000\n        //   })\n        console.log(data);\n      }).catch(err => {\n        commit(\"setError\", {\n          error: true,\n          message: err.response.data.message\n        });\n        commit(\"setLoading\", false);\n        console.log(err.response.data);\n      });\n    },\n    async filterVisitedRecord({\n      commit\n    }, payload) {\n      commit(\"setLoading\", true);\n      axios.post(`clinic/get-filter-visited-location/${payload.id}`, payload, {\n        headers: {\n          \"Authorization\": `Bearer ${localStorage.getItem('token')}`\n        }\n      }).then(res => {\n        const {\n          data\n        } = res.data;\n        commit(\"setLoading\", false);\n        commit(\"setData\", {\n          type: \"all\",\n          data: data\n        });\n        // Swal.fire({\n        //     title: 'Success',\n        //     text: 'Successfully Submitted',\n        //     icon: 'success',\n        //     confirmButtonText: 'close',\n        //     timer: 2000\n        //   })\n        console.log(data);\n      }).catch(err => {\n        commit(\"setError\", {\n          error: true,\n          message: err.response.data.message\n        });\n        commit(\"setLoading\", false);\n        console.log(err.response.data);\n      });\n    },\n    async submitContact({\n      commit,\n      dispatch\n    }, payload) {\n      commit(\"setLoading\", false);\n      axios.post(\"clinic/store-contact\", payload, {\n        headers: {\n          \"Authorization\": `Bearer ${localStorage.getItem('token')}`\n        }\n      }).then(res => {\n        dispatch('filterVisitedRecord', payload.filter);\n        console.log('submitted', res.data);\n      }).catch(err => {\n        console.log(err.response.data);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","namespaced","state","all","data","error","message","dialog","loading","selected","mutations","setData","type","setDialog","setLoading","setError","actions","submitCheckSelected","param","post","id","headers","Authorization","localStorage","getItem","console","log","getVisitedLocation","commit","payload","get","then","res","catch","err","response","filterVisitedRecord","submitContact","dispatch","filter"],"sources":["/home/wardy/Desktop/capstone/fe/src/store/modules/traceContact.js"],"sourcesContent":["import axios from \"@/config/axios\";\n// import { all } from \"core-js/fn/promise\";\n// import Swal from 'sweetalert2'\nexport default {\n  namespaced: true,\n  state: () => ({\n    all: {\n      data: [],\n      error: false,\n      message: \"\",\n      dialog: false,\n      loading: false,\n    },\n    selected:{\n      loading:false\n    }\n  }),\n  mutations: {\n    setData(state, data) {\n      state[data.type].data = data.data;\n    },\n    setDialog(state, data) {\n      state.all.dialog = data;\n    },\n    setLoading(state, data) {\n      state.all.loading = data;\n    },\n    setError(state, data) {\n      state.all.error = data.error;\n      state.all.message = data.message;\n    },\n  },\n  actions: {\n    async submitCheckSelected({state},param) {\n      state.selected.loading = true\n      try {\n        await axios.post(`clinic/store-contact-selected/${param.id}`, param.data, {\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n        });\n        state.selected.loading = false\n        return true\n      } catch (error) {\n        console.log(error);\n        state.selected.loading = false\n        return false\n      }\n    },\n    async getVisitedLocation({ commit }, payload) {\n      commit(\"setLoading\", true);\n      axios\n        .get(`clinic/get-visited-location/${payload}`,{headers:{\"Authorization\" : `Bearer ${localStorage.getItem('token')}`}})\n        .then((res) => {\n          const { data } = res.data;\n          commit(\"setLoading\", false);\n          commit(\"setData\", { type: \"all\", data: data });\n          // Swal.fire({\n          //     title: 'Success',\n          //     text: 'Successfully Submitted',\n          //     icon: 'success',\n          //     confirmButtonText: 'close',\n          //     timer: 2000\n          //   })\n          console.log(data);\n        })\n        .catch((err) => {\n          commit(\"setError\", {\n            error: true,\n            message: err.response.data.message,\n          });\n          commit(\"setLoading\", false);\n          console.log(err.response.data);\n        });\n    },\n    async filterVisitedRecord({ commit }, payload) {\n      commit(\"setLoading\", true);\n      axios\n        .post(`clinic/get-filter-visited-location/${payload.id}`, payload,{headers:{\"Authorization\" : `Bearer ${localStorage.getItem('token')}`}})\n        .then((res) => {\n          const { data } = res.data;\n          commit(\"setLoading\", false);\n          commit(\"setData\", { type: \"all\", data: data });\n          // Swal.fire({\n          //     title: 'Success',\n          //     text: 'Successfully Submitted',\n          //     icon: 'success',\n          //     confirmButtonText: 'close',\n          //     timer: 2000\n          //   })\n          console.log(data);\n        })\n        .catch((err) => {\n          commit(\"setError\", {\n            error: true,\n            message: err.response.data.message,\n          });\n          commit(\"setLoading\", false);\n          console.log(err.response.data);\n        });\n    },\n    async submitContact({ commit,dispatch }, payload) {\n      commit(\"setLoading\", false);\n      axios.post(\"clinic/store-contact\", payload,{headers:{\"Authorization\" : `Bearer ${localStorage.getItem('token')}`}})\n       .then((res) => {\n        dispatch('filterVisitedRecord',payload.filter)\n        console.log('submitted',res.data);\n       }).catch(err =>{\n         console.log(err.response.data);\n       });\n    },\n  },\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,gBAAgB;AAClC;AACA;AACA,eAAe;EACbC,UAAU,EAAE,IAAI;EAChBC,KAAK,EAAE,OAAO;IACZC,GAAG,EAAE;MACHC,IAAI,EAAE,EAAE;MACRC,KAAK,EAAE,KAAK;MACZC,OAAO,EAAE,EAAE;MACXC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;IACX,CAAC;IACDC,QAAQ,EAAC;MACPD,OAAO,EAAC;IACV;EACF,CAAC,CAAC;EACFE,SAAS,EAAE;IACTC,OAAO,CAACT,KAAK,EAAEE,IAAI,EAAE;MACnBF,KAAK,CAACE,IAAI,CAACQ,IAAI,CAAC,CAACR,IAAI,GAAGA,IAAI,CAACA,IAAI;IACnC,CAAC;IACDS,SAAS,CAACX,KAAK,EAAEE,IAAI,EAAE;MACrBF,KAAK,CAACC,GAAG,CAACI,MAAM,GAAGH,IAAI;IACzB,CAAC;IACDU,UAAU,CAACZ,KAAK,EAAEE,IAAI,EAAE;MACtBF,KAAK,CAACC,GAAG,CAACK,OAAO,GAAGJ,IAAI;IAC1B,CAAC;IACDW,QAAQ,CAACb,KAAK,EAAEE,IAAI,EAAE;MACpBF,KAAK,CAACC,GAAG,CAACE,KAAK,GAAGD,IAAI,CAACC,KAAK;MAC5BH,KAAK,CAACC,GAAG,CAACG,OAAO,GAAGF,IAAI,CAACE,OAAO;IAClC;EACF,CAAC;EACDU,OAAO,EAAE;IACP,MAAMC,mBAAmB,CAAC;MAACf;IAAK,CAAC,EAACgB,KAAK,EAAE;MACvChB,KAAK,CAACO,QAAQ,CAACD,OAAO,GAAG,IAAI;MAC7B,IAAI;QACF,MAAMR,KAAK,CAACmB,IAAI,CAAE,iCAAgCD,KAAK,CAACE,EAAG,EAAC,EAAEF,KAAK,CAACd,IAAI,EAAE;UACxEiB,OAAO,EAAE;YAAEC,aAAa,EAAG,UAASC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAE;UAAE;QACtE,CAAC,CAAC;QACFtB,KAAK,CAACO,QAAQ,CAACD,OAAO,GAAG,KAAK;QAC9B,OAAO,IAAI;MACb,CAAC,CAAC,OAAOH,KAAK,EAAE;QACdoB,OAAO,CAACC,GAAG,CAACrB,KAAK,CAAC;QAClBH,KAAK,CAACO,QAAQ,CAACD,OAAO,GAAG,KAAK;QAC9B,OAAO,KAAK;MACd;IACF,CAAC;IACD,MAAMmB,kBAAkB,CAAC;MAAEC;IAAO,CAAC,EAAEC,OAAO,EAAE;MAC5CD,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC;MAC1B5B,KAAK,CACF8B,GAAG,CAAE,+BAA8BD,OAAQ,EAAC,EAAC;QAACR,OAAO,EAAC;UAAC,eAAe,EAAI,UAASE,YAAY,CAACC,OAAO,CAAC,OAAO,CAAE;QAAC;MAAC,CAAC,CAAC,CACrHO,IAAI,CAAEC,GAAG,IAAK;QACb,MAAM;UAAE5B;QAAK,CAAC,GAAG4B,GAAG,CAAC5B,IAAI;QACzBwB,MAAM,CAAC,YAAY,EAAE,KAAK,CAAC;QAC3BA,MAAM,CAAC,SAAS,EAAE;UAAEhB,IAAI,EAAE,KAAK;UAAER,IAAI,EAAEA;QAAK,CAAC,CAAC;QAC9C;QACA;QACA;QACA;QACA;QACA;QACA;QACAqB,OAAO,CAACC,GAAG,CAACtB,IAAI,CAAC;MACnB,CAAC,CAAC,CACD6B,KAAK,CAAEC,GAAG,IAAK;QACdN,MAAM,CAAC,UAAU,EAAE;UACjBvB,KAAK,EAAE,IAAI;UACXC,OAAO,EAAE4B,GAAG,CAACC,QAAQ,CAAC/B,IAAI,CAACE;QAC7B,CAAC,CAAC;QACFsB,MAAM,CAAC,YAAY,EAAE,KAAK,CAAC;QAC3BH,OAAO,CAACC,GAAG,CAACQ,GAAG,CAACC,QAAQ,CAAC/B,IAAI,CAAC;MAChC,CAAC,CAAC;IACN,CAAC;IACD,MAAMgC,mBAAmB,CAAC;MAAER;IAAO,CAAC,EAAEC,OAAO,EAAE;MAC7CD,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC;MAC1B5B,KAAK,CACFmB,IAAI,CAAE,sCAAqCU,OAAO,CAACT,EAAG,EAAC,EAAES,OAAO,EAAC;QAACR,OAAO,EAAC;UAAC,eAAe,EAAI,UAASE,YAAY,CAACC,OAAO,CAAC,OAAO,CAAE;QAAC;MAAC,CAAC,CAAC,CACzIO,IAAI,CAAEC,GAAG,IAAK;QACb,MAAM;UAAE5B;QAAK,CAAC,GAAG4B,GAAG,CAAC5B,IAAI;QACzBwB,MAAM,CAAC,YAAY,EAAE,KAAK,CAAC;QAC3BA,MAAM,CAAC,SAAS,EAAE;UAAEhB,IAAI,EAAE,KAAK;UAAER,IAAI,EAAEA;QAAK,CAAC,CAAC;QAC9C;QACA;QACA;QACA;QACA;QACA;QACA;QACAqB,OAAO,CAACC,GAAG,CAACtB,IAAI,CAAC;MACnB,CAAC,CAAC,CACD6B,KAAK,CAAEC,GAAG,IAAK;QACdN,MAAM,CAAC,UAAU,EAAE;UACjBvB,KAAK,EAAE,IAAI;UACXC,OAAO,EAAE4B,GAAG,CAACC,QAAQ,CAAC/B,IAAI,CAACE;QAC7B,CAAC,CAAC;QACFsB,MAAM,CAAC,YAAY,EAAE,KAAK,CAAC;QAC3BH,OAAO,CAACC,GAAG,CAACQ,GAAG,CAACC,QAAQ,CAAC/B,IAAI,CAAC;MAChC,CAAC,CAAC;IACN,CAAC;IACD,MAAMiC,aAAa,CAAC;MAAET,MAAM;MAACU;IAAS,CAAC,EAAET,OAAO,EAAE;MAChDD,MAAM,CAAC,YAAY,EAAE,KAAK,CAAC;MAC3B5B,KAAK,CAACmB,IAAI,CAAC,sBAAsB,EAAEU,OAAO,EAAC;QAACR,OAAO,EAAC;UAAC,eAAe,EAAI,UAASE,YAAY,CAACC,OAAO,CAAC,OAAO,CAAE;QAAC;MAAC,CAAC,CAAC,CACjHO,IAAI,CAAEC,GAAG,IAAK;QACdM,QAAQ,CAAC,qBAAqB,EAACT,OAAO,CAACU,MAAM,CAAC;QAC9Cd,OAAO,CAACC,GAAG,CAAC,WAAW,EAACM,GAAG,CAAC5B,IAAI,CAAC;MAClC,CAAC,CAAC,CAAC6B,KAAK,CAACC,GAAG,IAAG;QACbT,OAAO,CAACC,GAAG,CAACQ,GAAG,CAACC,QAAQ,CAAC/B,IAAI,CAAC;MAChC,CAAC,CAAC;IACL;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}