{"ast":null,"code":"// import axios from \"@/config/axios\"\nimport axios from \"axios\";\nimport Swal from 'sweetalert2';\nexport default {\n  namespaced: true,\n  state: () => ({\n    all: {\n      data: [],\n      loading: false,\n      error: false\n    },\n    submit: {\n      loading: false,\n      error: false,\n      message: \"\",\n      dialog: false,\n      refresh: false\n    }\n  }),\n  mutations: {\n    setLoading(state, payload) {\n      state[payload.type].loading = payload.loading;\n    },\n    setError(state, payload) {\n      state[payload.type].error = payload.error;\n      state[payload.type].message = payload.message;\n    },\n    setDialog(state, payload) {\n      state.submit.dialog = payload;\n    },\n    setRefresh(state, payload) {\n      state.submit.refresh = payload;\n    }\n  },\n  actions: {\n    async createClinic({\n      commit\n    }, payload) {\n      commit('setLoading', {\n        type: \"submit\",\n        loading: true\n      });\n      commit('setError', {\n        type: \"submit\",\n        error: false,\n        message: \"\"\n      });\n      axios.post('http://192.168.1.136:8000/api/clinic/register-clinic', payload, {\n        headers: {\n          \"Authorization\": `Bearer ${localStorage.getItem('token')}`\n        }\n      }).then(res => {\n        commit('setLoading', {\n          type: \"submit\",\n          loading: false\n        });\n        commit(\"setDialog\", false);\n        commit(\"setRefresh\", true);\n        Swal.fire({\n          title: 'Success',\n          text: 'Successfully Created Staff',\n          icon: 'success',\n          confirmButtonText: 'close',\n          showCloseButton: true,\n          html: `The Username & Password is <b>${res.data.data.username} </b> <br>`\n        });\n        console.log(res.data);\n      }).catch(err => {\n        commit('setLoading', {\n          type: \"submit\",\n          loading: false\n        });\n        commit('setError', {\n          type: \"submit\",\n          error: true,\n          message: err.response.data.message\n        });\n        console.log(err.response.data);\n      });\n    },\n    async createUser({\n      commit\n    }, payload) {\n      commit('setLoading', {\n        type: \"submit\",\n        loading: true\n      });\n      commit('setError', {\n        type: \"submit\",\n        error: false,\n        message: \"\"\n      });\n      try {\n        const {\n          data\n        } = await axios.post(`${process.env.VUE_APP_API}/register-user`, payload, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\"\n          }\n        });\n        const ss = await axios.post(`${process.env.VUE_APP_NODE}/create-account/${data.data.id}`, payload, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n            'X-Requested-With': 'XMLHttpRequest'\n          }\n        });\n        commit('setLoading', {\n          type: \"submit\",\n          loading: false\n        });\n        Swal.fire({\n          title: 'Success',\n          text: 'Successfully Created',\n          icon: 'success',\n          confirmButtonText: 'close',\n          timer: 2000\n        });\n        console.log('data', data.data);\n        console.log('data', ss);\n        return true;\n      } catch (err) {\n        commit('setLoading', {\n          type: \"submit\",\n          loading: false\n        });\n        commit('setError', {\n          type: \"submit\",\n          error: true,\n          message: err.response.data.errors\n        });\n        console.log(err.response.data);\n        return false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","Swal","namespaced","state","all","data","loading","error","submit","message","dialog","refresh","mutations","setLoading","payload","type","setError","setDialog","setRefresh","actions","createClinic","commit","post","headers","localStorage","getItem","then","res","fire","title","text","icon","confirmButtonText","showCloseButton","html","username","console","log","catch","err","response","createUser","process","env","VUE_APP_API","ss","VUE_APP_NODE","id","timer","errors"],"sources":["/home/wardy/Desktop/capstone/fe/src/store/modules/register.js"],"sourcesContent":["// import axios from \"@/config/axios\"\nimport axios from \"axios\"\nimport Swal from 'sweetalert2'\nexport default {\n    namespaced: true,\n    state: () => ({\n        all: {\n            data: [],\n            loading: false,\n            error: false\n        },\n        submit: {\n            loading: false,\n            error: false,\n            message: \"\",\n            dialog: false,\n            refresh: false\n        },\n    }),\n    mutations: {\n        setLoading(state, payload) {\n            state[payload.type].loading = payload.loading\n        },\n        setError(state, payload) {\n            state[payload.type].error = payload.error\n            state[payload.type].message = payload.message\n        },\n        setDialog(state, payload) {\n            state.submit.dialog = payload\n        },\n        setRefresh(state, payload) {\n            state.submit.refresh = payload\n        }\n    },\n    actions: {\n        async createClinic({ commit }, payload) {\n            commit('setLoading', { type: \"submit\", loading: true })\n            commit('setError', { type: \"submit\", error: false, message: \"\" })\n            axios.post('http://192.168.1.136:8000/api/clinic/register-clinic', payload, { headers: { \"Authorization\": `Bearer ${localStorage.getItem('token')}` } })\n                .then(res => {\n                    commit('setLoading', { type: \"submit\", loading: false })\n                    commit(\"setDialog\", false)\n                    commit(\"setRefresh\", true);\n                    Swal.fire({\n                        title: 'Success',\n                        text: 'Successfully Created Staff',\n                        icon: 'success',\n                        confirmButtonText: 'close',\n                        showCloseButton: true,\n                        html: `The Username & Password is <b>${res.data.data.username} </b> <br>`\n                    })\n                    console.log(res.data)\n                }).catch(err => {\n                    commit('setLoading', { type: \"submit\", loading: false })\n                    commit('setError', { type: \"submit\", error: true, message: err.response.data.message })\n                    console.log(err.response.data)\n                })\n        },\n\n        async createUser({ commit }, payload) {\n            commit('setLoading', { type: \"submit\", loading: true })\n            commit('setError', { type: \"submit\", error: false, message: \"\" })\n\n            try {\n                const { data } = await axios.post(\n                    `${process.env.VUE_APP_API}/register-user`,\n                    payload,\n                    { headers: { \"Content-Type\": \"multipart/form-data\" } }\n                );\n                const ss = await axios.post(`${process.env.VUE_APP_NODE}/create-account/${data.data.id}`, payload, {\n                    headers: {\n                        \"Content-Type\": \"multipart/form-data\",\n                        'X-Requested-With': 'XMLHttpRequest'\n                    }\n                });\n\n                commit('setLoading', { type: \"submit\", loading: false })\n                Swal.fire({\n                    title: 'Success',\n                    text: 'Successfully Created',\n                    icon: 'success',\n                    confirmButtonText: 'close',\n                    timer: 2000\n                })\n\n                console.log('data', data.data);\n                console.log('data', ss);\n\n                return true\n            } catch (err) {\n                commit('setLoading', { type: \"submit\", loading: false })\n                commit('setError', { type: \"submit\", error: true, message: err.response.data.errors })\n                console.log(err.response.data)\n\n                return false\n            }\n        }\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}